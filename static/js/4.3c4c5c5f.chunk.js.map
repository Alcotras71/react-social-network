{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.jsx","utils/validators/validators.js","components/Main/Profile/ProfileInfo/ProfileInfo.module.css","components/Main/Profile/Profile.module.css","components/Main/Profile/MyPosts/MyPosts.module.css","components/Main/Profile/MyPosts/Post/Post.module.css","components/Main/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Main/Profile/ProfileInfo/ProfileInfo.jsx","components/Main/Profile/MyPosts/Post/Post.jsx","components/Main/Profile/MyPosts/MyPosts.jsx","components/Main/Profile/MyPosts/MyPostsContainer.jsx","components/Main/Profile/Profile.jsx","components/Main/Profile/ProfileContainer.jsx"],"names":["module","exports","FormControl","meta","touched","error","children","hasError","className","s","formControl","Textarea","props","useField","field","Input","createField","tag","label","type","placeholder","name","validator","text","validate","defaultValidator","required","maxLength","value","length","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","deactivateEditMode","updateStatus","profileStatus","autoFocus","onBlur","onChange","e","currentTarget","onKeyDown","key","onDoubleClick","ProfileInfo","profile","descriptionBlock","src","photos","large","photo","alt","style","textTransform","fontWeight","fullName","aboutMe","Preloader","Post","item","message","likeCount","MyPosts","React","memo","postsElements","posts","reverse","map","p","id","postsBlock","onSubmit","values","addPost","commentsText","deletePost","removePost","MyPostsForm","initialValues","button","onClick","MyPostsContainer","connect","state","profilePage","newPostText","Profile","content","ProfileContainer","render","userId","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/4.3c4c5c5f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3VohF\",\"error\":\"FormsControls_error__24i9u\",\"formSummaryError\":\"FormsControls_formSummaryError__-uaBO\",\"form__btn\":\"FormsControls_form__btn__3KY7R\"};","import React from 'react';\nimport s from './FormsControls.module.css';\nimport { useField } from 'formik';\n\nconst FormControl = ({ meta: { touched, error }, children }) => {\n  const hasError = touched && error;\n  return (\n    <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\n      {children}\n      {hasError ? <span>{error}</span> : null}\n    </div>\n  );\n};\n\nexport const Textarea = (props) => {\n  const [field, meta] = useField(props);\n  return (\n    <FormControl {...props} meta={meta}>\n      <textarea {...field} {...props} />\n    </FormControl>\n  );\n};\n\nexport const Input = (props) => {\n  const [field, meta] = useField(props);\n  return (\n    <FormControl {...props} meta={meta}>\n      <input {...field} {...props} />\n    </FormControl>\n  );\n};\n\nexport const createField = ( tag, label, type, placeholder, name, validator, text = '' ) => {\n  if (tag === 'input') {\n    return label ? (\n      <label>\n        <Input\n          type={type}\n          placeholder={placeholder}\n          name={name}\n          validate={validator}\n        />\n        {text}\n      </label>\n    ) : (\n      <div>\n        <Input\n          type={type}\n          placeholder={placeholder}\n          name={name}\n          validate={validator}\n        />\n        {text}\n      </div>\n    );\n  } else if ('textarea') {\n    return (\n      <div>\n        <Textarea\n          placeholder={placeholder}\n          name={name}\n          validate={validator}\n        />\n      </div>\n    );\n  }\n};\n","export const defaultValidator = (required, maxLength) => (value) => {\n  let error;\n  if (!value && required) {\n    error = 'Required';\n  } else if (value.length > maxLength && maxLength) {\n    error = `Max length is ${maxLength} symbols`;\n  }\n\n  return error;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__39fMn\",\"profileStatus\":\"ProfileInfo_profileStatus__2DWPd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__2XJQV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__6FIv_\",\"posts\":\"MyPosts_posts__abHQw\",\"button\":\"MyPosts_button__3fnZU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3LIyL\"};","import React, { useEffect, useState } from 'react';\nimport s from './ProfileInfo.module.css';\n\nconst ProfileStatusWithHooks = (props) => {\n  const [editMode, setEditMode] = useState(false);\n  const [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status);\n  };\n\n  const onStatusChange = (e) => {\n    setStatus(e.currentTarget.value);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      deactivateEditMode();\n    }\n  };\n\n  return (\n    <div className={s.profileStatus}>\n      {!editMode ? (\n        <div>\n          <span onDoubleClick={activateEditMode}>\n            {props.status || '-----------'}\n          </span>\n        </div>\n      ) : (\n        <div>\n          <input\n            autoFocus={true}\n            onBlur={deactivateEditMode}\n            onChange={onStatusChange}\n            onKeyDown={handleKeyDown}\n            type=\"text\"\n            value={status}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import React from 'react';\r\nimport Preloader from '../../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport photo from '../../../../assets/images/fake.png';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = ({ profile, updateStatus, status }) => {\r\n  if (!profile) {\r\n    return <Preloader />;\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className={s.descriptionBlock}>\r\n          <img\r\n            src={profile.photos.large ? profile.photos.large : photo}\r\n            alt=\"mysefl\"\r\n          />\r\n          <ProfileStatusWithHooks updateStatus={updateStatus} status={status} />\r\n          <h2 style={{ textTransform: 'uppercase', fontWeight: 700 }}>\r\n            {profile.fullName}\r\n          </h2>\r\n          <h3>{profile.aboutMe}</h3>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img src=\"https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg\"/>\r\n      <span>{props.message}</span>\r\n      <div>\r\n        <span>likes</span> <span>{props.likeCount}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Form, Formik } from 'formik';\r\nimport { defaultValidator } from '../../../../utils/validators/validators';\r\nimport { createField } from '../../../common/FormsControls/FormsControls';\r\n\r\nconst MyPosts = React.memo((props) => {\r\n  const addPost = (values) => {\r\n    props.addPost(values.commentsText);\r\n  };\r\n\r\n  const deletePost = () => {\r\n    props.removePost();\r\n  };\r\n\r\n  const postsElements = [...props.posts]\r\n    .reverse()\r\n    .map((p) => (\r\n      <Post key={p.id} message={p.message} likeCount={p.likeCount} />\r\n    ));\r\n\r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <h3>My posts</h3>\r\n      <div>\r\n        <MyPostsForm onSubmit={addPost} deletePost={deletePost} />\r\n      </div>\r\n      <div className={s.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst MyPostsForm = (props) => {\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        commentsText: '',\r\n      }}\r\n      onSubmit={props.onSubmit}\r\n    >\r\n      <Form>\r\n        {createField( 'textarea', false, '', 'Enter your message', 'commentsText', defaultValidator(true, 10))}\r\n        <div>\r\n          <button className={s.button} type=\"submit\">\r\n            Add post\r\n          </button>\r\n          <button className={s.button} onClick={props.deletePost} type=\"button\">\r\n            delete post\r\n          </button>\r\n        </div>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default MyPosts;\r\n","import { addPost, removePost } from '../../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\nimport connect from 'react-redux/lib/connect/connect';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {\r\n  addPost,\r\n  removePost,\r\n})(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className={s.content}>\r\n      <ProfileInfo status={props.status} updateStatus={props.updateStatus} profile={props.profile} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from './Profile';\r\nimport connect from 'react-redux/lib/connect/connect';\r\nimport {\r\n  getUserProfile,\r\n  getStatus,\r\n  updateStatus,\r\n} from '../../../redux/profileReducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push('/login');\r\n      }\r\n    }\r\n\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render = () => {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n      />\r\n    );\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\r\n  withRouter\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}